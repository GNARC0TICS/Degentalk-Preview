/* Enhanced Accessibility Styles for DegenTalk Forum */

/* High Contrast Mode */
.high-contrast {
	--background: #000000;
	--foreground: #ffffff;
	--card: #1a1a1a;
	--card-foreground: #ffffff;
	--popover: #1a1a1a;
	--popover-foreground: #ffffff;
	--primary: #ffffff;
	--primary-foreground: #000000;
	--secondary: #333333;
	--secondary-foreground: #ffffff;
	--muted: #333333;
	--muted-foreground: #cccccc;
	--accent: #444444;
	--accent-foreground: #ffffff;
	--destructive: #ff4444;
	--destructive-foreground: #ffffff;
	--border: #666666;
	--input: #333333;
	--ring: #ffffff;
}

/* Large Text Mode */
.large-text {
	font-size: 1.125em !important;
}

.large-text h1 {
	font-size: 2.5rem !important;
}
.large-text h2 {
	font-size: 2rem !important;
}
.large-text h3 {
	font-size: 1.75rem !important;
}
.large-text h4 {
	font-size: 1.5rem !important;
}
.large-text h5 {
	font-size: 1.25rem !important;
}
.large-text h6 {
	font-size: 1.125rem !important;
}

.large-text .text-xs {
	font-size: 0.875rem !important;
}
.large-text .text-sm {
	font-size: 1rem !important;
}
.large-text .text-base {
	font-size: 1.125rem !important;
}
.large-text .text-lg {
	font-size: 1.25rem !important;
}
.large-text .text-xl {
	font-size: 1.5rem !important;
}

/* Reduced Motion */
.reduce-motion *,
.reduce-motion *::before,
.reduce-motion *::after {
	animation-duration: 0.01ms !important;
	animation-iteration-count: 1 !important;
	transition-duration: 0.01ms !important;
	scroll-behavior: auto !important;
}

.reduce-motion .animate-spin,
.reduce-motion .animate-pulse,
.reduce-motion .animate-bounce {
	animation: none !important;
}

/* Enhanced Focus Styles */
:focus-visible {
	outline: 2px solid #10b981 !important;
	outline-offset: 2px !important;
	border-radius: 4px !important;
}

/* Remove focus outlines when requested */
.no-focus-outlines *:focus {
	outline: none !important;
}

/* But always show for skip links */
.no-focus-outlines .skip-link:focus {
	outline: 2px solid #10b981 !important;
	outline-offset: 2px !important;
}

/* Enhanced button focus states */
button:focus-visible,
[role='button']:focus-visible {
	outline: 2px solid #10b981 !important;
	outline-offset: 2px !important;
	box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.2) !important;
}

/* Link focus states */
a:focus-visible {
	outline: 2px solid #3b82f6 !important;
	outline-offset: 2px !important;
	text-decoration: underline !important;
}

/* Form control focus states */
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
	outline: 2px solid #10b981 !important;
	outline-offset: 2px !important;
	border-color: #10b981 !important;
	box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1) !important;
}

/* Color Blind Friendly Enhancements */
.colorblind-friendly .text-red-400::before {
	content: '⚠ ';
	font-weight: bold;
}

.colorblind-friendly .text-green-400::before,
.colorblind-friendly .text-emerald-400::before {
	content: '✓ ';
	font-weight: bold;
}

.colorblind-friendly .text-yellow-400::before {
	content: '⚡ ';
	font-weight: bold;
}

.colorblind-friendly .text-blue-400::before {
	content: 'ℹ ';
	font-weight: bold;
}

/* Status indicators with patterns */
.colorblind-friendly .bg-red-500 {
	background-image: repeating-linear-gradient(
		45deg,
		transparent,
		transparent 2px,
		rgba(255, 255, 255, 0.1) 2px,
		rgba(255, 255, 255, 0.1) 4px
	);
}

.colorblind-friendly .bg-green-500,
.colorblind-friendly .bg-emerald-500 {
	background-image: repeating-linear-gradient(
		90deg,
		transparent,
		transparent 3px,
		rgba(255, 255, 255, 0.1) 3px,
		rgba(255, 255, 255, 0.1) 6px
	);
}

/* Screen reader only content */
.sr-only {
	position: absolute !important;
	width: 1px !important;
	height: 1px !important;
	padding: 0 !important;
	margin: -1px !important;
	overflow: hidden !important;
	clip: rect(0, 0, 0, 0) !important;
	white-space: nowrap !important;
	border: 0 !important;
}

.focus-within\:not-sr-only:focus-within {
	position: static !important;
	width: auto !important;
	height: auto !important;
	padding: inherit !important;
	margin: inherit !important;
	overflow: visible !important;
	clip: auto !important;
	white-space: normal !important;
}

/* Enhanced hover states for touch devices */
@media (hover: hover) {
	.hover-enhance:hover {
		transform: translateY(-2px);
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
	}
}

/* Touch-friendly sizing */
@media (max-width: 768px) {
	.touch-target {
		min-height: 44px !important;
		min-width: 44px !important;
	}

	button,
	[role='button'],
	input[type='button'],
	input[type='submit'] {
		min-height: 44px;
		min-width: 44px;
		padding: 12px 16px;
	}
}

/* High contrast theme adjustments */
.high-contrast .border-zinc-800 {
	border-color: #666666 !important;
}

.high-contrast .bg-zinc-900 {
	background-color: #1a1a1a !important;
}

.high-contrast .text-zinc-400 {
	color: #cccccc !important;
}

.high-contrast .text-zinc-300 {
	color: #ffffff !important;
}

/* Improved text contrast ratios */
.high-contrast .text-emerald-400 {
	color: #00ff88 !important;
}

.high-contrast .text-blue-400 {
	color: #0088ff !important;
}

.high-contrast .text-red-400 {
	color: #ff4444 !important;
}

.high-contrast .text-yellow-400 {
	color: #ffdd00 !important;
}

/* Animation preferences respect */
/* Disabled prefers-reduced-motion for full animation experience */
/* @media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
		scroll-behavior: auto !important;
	}
} */

/* Improved loading states */
.loading-shimmer {
	background: linear-gradient(
		90deg,
		rgba(255, 255, 255, 0) 0%,
		rgba(255, 255, 255, 0.1) 50%,
		rgba(255, 255, 255, 0) 100%
	);
	background-size: 200% 100%;
	animation: shimmer 1.5s infinite;
}

.reduce-motion .loading-shimmer {
	animation: none;
	background: rgba(255, 255, 255, 0.05);
}

@keyframes shimmer {
	0% {
		background-position: -200% 0;
	}
	100% {
		background-position: 200% 0;
	}
}

/* Keyboard navigation indicators */
.keyboard-user *:focus {
	outline: 2px solid #10b981 !important;
	outline-offset: 2px !important;
}

/* Better scrollbar styling */
.custom-scrollbar::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

.custom-scrollbar::-webkit-scrollbar-track {
	background: rgba(39, 39, 42, 0.5);
	border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
	background: rgba(113, 113, 122, 0.8);
	border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
	background: rgba(161, 161, 170, 0.8);
}

/* Firefox scrollbar */
.custom-scrollbar {
	scrollbar-width: thin;
	scrollbar-color: rgba(113, 113, 122, 0.8) rgba(39, 39, 42, 0.5);
}

/* Enhanced selection styling */
::selection {
	background-color: rgba(16, 185, 129, 0.3);
	color: inherit;
}

::-moz-selection {
	background-color: rgba(16, 185, 129, 0.3);
	color: inherit;
}

/* Better form validation styles */
.field-error {
	border-color: #ef4444 !important;
	box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1) !important;
}

.field-error:focus {
	outline-color: #ef4444 !important;
	box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.2) !important;
}

.field-success {
	border-color: #10b981 !important;
	box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1) !important;
}

/* Loading state improvements */
.loading-dots::after {
	content: '';
	animation: dots 1.5s steps(5, end) infinite;
}

@keyframes dots {
	0%,
	20% {
		color: rgba(0, 0, 0, 0);
		text-shadow:
			0.25em 0 0 rgba(0, 0, 0, 0),
			0.5em 0 0 rgba(0, 0, 0, 0);
	}
	40% {
		color: white;
		text-shadow:
			0.25em 0 0 rgba(0, 0, 0, 0),
			0.5em 0 0 rgba(0, 0, 0, 0);
	}
	60% {
		text-shadow:
			0.25em 0 0 white,
			0.5em 0 0 rgba(0, 0, 0, 0);
	}
	80%,
	100% {
		text-shadow:
			0.25em 0 0 white,
			0.5em 0 0 white;
	}
}

/* Improved tooltips */
.tooltip {
	position: relative;
}

.tooltip::before {
	content: attr(data-tooltip);
	position: absolute;
	bottom: 100%;
	left: 50%;
	transform: translateX(-50%);
	background: #1f2937;
	color: white;
	padding: 8px 12px;
	border-radius: 6px;
	font-size: 14px;
	white-space: nowrap;
	opacity: 0;
	pointer-events: none;
	transition: opacity 0.2s;
	z-index: 1000;
}

.tooltip:hover::before,
.tooltip:focus::before {
	opacity: 1;
}

/* Better mobile tap targets */
@media (max-width: 768px) {
	.mobile-tap-target {
		min-height: 48px;
		min-width: 48px;
		padding: 12px;
	}
}

/* Print styles */
@media print {
	.no-print {
		display: none !important;
	}

	* {
		background: transparent !important;
		color: black !important;
		box-shadow: none !important;
		text-shadow: none !important;
	}

	a,
	a:visited {
		text-decoration: underline;
	}

	a[href]:after {
		content: ' (' attr(href) ')';
	}
}

/* Custom properties for dynamic theming */
:root {
	--focus-ring-color: #10b981;
	--focus-ring-offset: 2px;
	--focus-ring-width: 2px;
	--animation-speed: 0.2s;
}

.reduce-motion:root {
	--animation-speed: 0.01ms;
}

/* Utility classes for accessibility */
.visually-hidden {
	position: absolute !important;
	width: 1px !important;
	height: 1px !important;
	padding: 0 !important;
	margin: -1px !important;
	overflow: hidden !important;
	clip: rect(0, 0, 0, 0) !important;
	white-space: nowrap !important;
	border: 0 !important;
}

.keyboard-only:not(:focus):not(:active) {
	position: absolute !important;
	left: -10000px !important;
	width: 1px !important;
	height: 1px !important;
	overflow: hidden !important;
}

/* Enhanced contrast for important elements */
.high-contrast .btn-primary {
	background: white !important;
	color: black !important;
	border: 2px solid white !important;
}

.high-contrast .btn-secondary {
	background: black !important;
	color: white !important;
	border: 2px solid white !important;
}

/* Motion safe utilities */
.motion-safe:not(.reduce-motion) {
	animation: inherit;
	transition: inherit;
}

.motion-reduce,
.reduce-motion .motion-safe {
	animation: none !important;
	transition: none !important;
}
