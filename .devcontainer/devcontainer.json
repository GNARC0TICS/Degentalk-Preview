{
	"name": "DegenTalk Development",
	"image": "mcr.microsoft.com/devcontainers/typescript-node:20",
	"features": {
		"ghcr.io/devcontainers/features/docker-in-docker:2": {
			"dockerDashComposeVersion": "v2"
		},
		"ghcr.io/devcontainers/features/node:1": {
			"nodeGypDependencies": true,
			"installYarnUsingApt": false,
			"version": "20"
		}
	},
	"customizations": {
		"vscode": {
			"extensions": [
				"esbenp.prettier-vscode",
				"ms-vscode.vscode-eslint",
				"bradlc.vscode-tailwindcss",
				"ms-vscode.vscode-typescript-next",
				"formulahendry.auto-rename-tag",
				"christian-kohler.path-intellisense",
				"ms-vscode.vscode-json",
				"redhat.vscode-yaml",
				"ms-playwright.playwright",
				"vitest.explorer",
				"drizzle-team.drizzle-vscode"
			],
			"settings": {
				"typescript.preferences.useAliasesForRenames": false,
				"typescript.preferences.includePackageJsonAutoImports": "off",
				"typescript.updateImportsOnFileMove.enabled": "always",
				"editor.formatOnSave": true,
				"editor.defaultFormatter": "esbenp.prettier-vscode",
				"editor.codeActionsOnSave": {
					"source.fixAll.eslint": "explicit"
				},
				"files.exclude": {
					"**/.pnpm-store": true,
					"**/node_modules/.pnpm": true,
					"**/.vite": true
				},
				"search.exclude": {
					"**/.pnpm-store": true,
					"**/node_modules": true,
					"**/.vite": true
				},
				"emmet.includeLanguages": {
					"typescript": "javascript",
					"typescriptreact": "javascriptreact"
				}
			}
		}
	},
	"forwardPorts": [5173, 5001, 3000, 8080],
	"portsAttributes": {
		"5173": {
			"label": "Vite Dev Server (Frontend)",
			"onAutoForward": "notify"
		},
		"5001": {
			"label": "Express API Server (Backend)",
			"onAutoForward": "notify"
		},
		"3000": {
			"label": "Alternative Dev Port",
			"onAutoForward": "silent"
		},
		"8080": {
			"label": "Drizzle Studio",
			"onAutoForward": "silent"
		}
	},
	"postCreateCommand": ".devcontainer/setup.sh",
	"postStartCommand": "echo 'ðŸš€ DegenTalk Codespace ready! Run: pnpm dev'",
	"remoteUser": "node",
	"containerEnv": {
		"NODE_ENV": "development",
		"FORCE_COLOR": "1"
	},
	"mounts": ["source=degentalk-pnpm-store,target=/home/node/.pnpm-store,type=volume"]
}
